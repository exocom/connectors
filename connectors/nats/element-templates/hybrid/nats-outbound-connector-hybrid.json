{
  "$schema" : "https://unpkg.com/@camunda/zeebe-element-templates-json-schema/resources/schema.json",
  "name" : "NATS Outbound Connector",
  "id" : "io.camunda.connectors.NATS.v1",
  "description" : "Produce NATS message",
  "version" : 1,
  "category" : {
    "id" : "connectors",
    "name" : "Connectors"
  },
  "appliesTo" : [ "bpmn:Task" ],
  "elementType" : {
    "value" : "bpmn:ServiceTask"
  },
  "groups" : [ {
    "id" : "taskDefinitionType",
    "label" : "Task definition type"
  }, {
    "id" : "authentication",
    "label" : "Authentication"
  }, {
    "id" : "connection",
    "label" : "Connection"
  }, {
    "id" : "nats",
    "label" : "NATS"
  }, {
    "id" : "output",
    "label" : "Output mapping"
  }, {
    "id" : "error",
    "label" : "Error handling"
  }, {
    "id" : "retries",
    "label" : "Retries"
  } ],
  "properties" : [ {
    "id" : "taskDefinitionType",
    "value" : "io.camunda:connector-nats:1",
    "group" : "taskDefinitionType",
    "binding" : {
      "property" : "type",
      "type" : "zeebe:taskDefinition"
    },
    "type" : "String"
  }, {
    "id" : "authentication.type",
    "label" : "Authentication type",
    "description" : "Select the type of authentication to use for the connection",
    "optional" : false,
    "value" : "none",
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.type",
      "type" : "zeebe:input"
    },
    "type" : "Dropdown",
    "choices" : [ {
      "name" : "None",
      "value" : "none"
    }, {
      "name" : "username/password",
      "value" : "username_password"
    }, {
      "name" : "token",
      "value" : "token"
    }, {
      "name" : "jwt/nkey",
      "value" : "jwt"
    } ]
  }, {
    "id" : "authentication.username",
    "label" : "Username",
    "description" : "Provide the username (must have permissions to subscribe to the topic)",
    "optional" : true,
    "feel" : "optional",
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.username",
      "type" : "zeebe:input"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "username_password",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "authentication.password",
    "label" : "Password",
    "description" : "Provide a password for the user",
    "optional" : true,
    "feel" : "optional",
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.password",
      "type" : "zeebe:input"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "username_password",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "authentication.token",
    "label" : "Token",
    "description" : "Provide a token for authentication",
    "optional" : true,
    "feel" : "optional",
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.token",
      "type" : "zeebe:input"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "token",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "authentication.jwt",
    "label" : "JWT",
    "description" : "user JWT for authentication",
    "optional" : true,
    "feel" : "optional",
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.jwt",
      "type" : "zeebe:input"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "jwt",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "authentication.nKeySeed",
    "label" : "NKey seed",
    "description" : "If a seed is provided, the public key, and signature are calculated",
    "optional" : true,
    "feel" : "optional",
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.nKeySeed",
      "type" : "zeebe:input"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "jwt",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "connection.servers",
    "label" : "Servers",
    "description" : "Provide connection server(s), comma-delimited if there are multiple",
    "optional" : false,
    "constraints" : {
      "notEmpty" : true
    },
    "feel" : "optional",
    "group" : "connection",
    "binding" : {
      "name" : "connection.servers",
      "type" : "zeebe:input"
    },
    "type" : "String"
  }, {
    "id" : "connection.connectionName",
    "label" : "Connection name",
    "description" : "Provide a name for the connection if left empty processInstanceKey will be used",
    "optional" : true,
    "feel" : "optional",
    "group" : "connection",
    "binding" : {
      "name" : "connection.connectionName",
      "type" : "zeebe:input"
    },
    "type" : "String"
  }, {
    "id" : "clientType",
    "label" : "Client type",
    "description" : "Select the type of client to use for the connection",
    "optional" : false,
    "value" : "nats",
    "group" : "nats",
    "binding" : {
      "name" : "clientType",
      "type" : "zeebe:input"
    },
    "type" : "Dropdown",
    "choices" : [ {
      "name" : "NATS",
      "value" : "nats"
    }, {
      "name" : "JetStream",
      "value" : "jetStream"
    } ]
  }, {
    "id" : "subject",
    "label" : "Subject",
    "description" : "Provide the subject to send the message to",
    "optional" : false,
    "constraints" : {
      "notEmpty" : true
    },
    "feel" : "optional",
    "group" : "nats",
    "binding" : {
      "name" : "subject",
      "type" : "zeebe:input"
    },
    "type" : "String"
  }, {
    "id" : "message",
    "label" : "Message",
    "description" : "Provide the message to send",
    "optional" : false,
    "constraints" : {
      "notEmpty" : true
    },
    "feel" : "optional",
    "group" : "nats",
    "binding" : {
      "name" : "message",
      "type" : "zeebe:input"
    },
    "type" : "String"
  }, {
    "id" : "additionalProperties",
    "label" : "Additional properties",
    "description" : "Provide additional NATS producer properties in JSON",
    "optional" : true,
    "feel" : "required",
    "group" : "nats",
    "binding" : {
      "name" : "additionalProperties",
      "type" : "zeebe:input"
    },
    "type" : "String"
  }, {
    "id" : "resultVariable",
    "label" : "Result variable",
    "description" : "Name of variable to store the response in",
    "group" : "output",
    "binding" : {
      "key" : "resultVariable",
      "type" : "zeebe:taskHeader"
    },
    "type" : "String"
  }, {
    "id" : "resultExpression",
    "label" : "Result expression",
    "description" : "Expression to map the response into process variables",
    "feel" : "required",
    "group" : "output",
    "binding" : {
      "key" : "resultExpression",
      "type" : "zeebe:taskHeader"
    },
    "type" : "Text"
  }, {
    "id" : "errorExpression",
    "label" : "Error expression",
    "description" : "Expression to handle errors. Details in the <a href=\"https://docs.camunda.io/docs/components/connectors/use-connectors/\" target=\"_blank\">documentation</a>.",
    "feel" : "required",
    "group" : "error",
    "binding" : {
      "key" : "errorExpression",
      "type" : "zeebe:taskHeader"
    },
    "type" : "Text"
  }, {
    "id" : "retryCount",
    "label" : "Retries",
    "description" : "Number of retries",
    "value" : "3",
    "feel" : "optional",
    "group" : "retries",
    "binding" : {
      "property" : "retries",
      "type" : "zeebe:taskDefinition"
    },
    "type" : "String"
  }, {
    "id" : "retryBackoff",
    "label" : "Retry backoff",
    "description" : "ISO-8601 duration to wait between retries",
    "value" : "PT0S",
    "feel" : "optional",
    "group" : "retries",
    "binding" : {
      "key" : "retryBackoff",
      "type" : "zeebe:taskHeader"
    },
    "type" : "String"
  } ],
  "icon" : {
    "contents" : "data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxOCcgaGVpZ2h0PScxOC42MDk4NDInIHZpZXdCb3g9JzAgMCAxOCAxOC42MDk4NDInPgogICAgPHN0eWxlIHhtbDpzcGFjZT0ncHJlc2VydmUnPnN2ZyB7ZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyODggMjg4fTwvc3R5bGU+CiAgICA8c3R5bGUgeG1sOnNwYWNlPSdwcmVzZXJ2ZSc+LnN0M3tmaWxsOiMzNzVjOTN9LnN0NHtmaWxsOiM4ZGM2M2Z9PC9zdHlsZT4KICAgIDxwYXRoIGZpbGw9JyMzNGE1NzQnIGQ9J00gOS4xNjY5MDQgMC4zNDAyMjgyNiBoIDguNjQ2OTMzIHYgNy4wMDk5ODU0IEggOS4xNjY5MDQgeicvPgogICAgPHBhdGggZmlsbD0nIzI3YWFlMScgZD0nTSAwLjUxOTk3MTUgMC4zNDAyMjgyNiBoIDguNjQ2OTMzIHYgNy4wMDk5ODU0IEggMC41MTk5NzE1IHonLz4KICAgIDxwYXRoIGNsYXNzPSdzdDQnIGQ9J00gOS4xNjY5MDQgNy4zNTY2MzMgaCA4LjY0NjkzMyB2IDcuMDA5OTg1NCBIIDkuMTY2OTA0IHonLz4KICAgIDxwYXRoIGNsYXNzPSdzdDMnIGQ9J00gMC41MTk5NzE1IDcuMzU2NjMzIGggOC42NDY5MzMgdiA3LjAwOTk4NTQgSCAwLjUxOTk3MTUgeicvPgogICAgPHBhdGggY2xhc3M9J3N0NCcgZD0nTSA3Ljg5NTg2MyAxNC4zMjgxMDIgbCA0LjIzMDM4NTMgMy45MTU4MzQ0IHYgLTMuOTE1ODM0NCB6Jy8+CiAgICA8cGF0aCBjbGFzcz0nc3QzJyBkPSdNIDkuMTY2OTA0IDE0LjMyODEwMiBsIDAuMDQ0OTM1ODA0IDEuMjMyNTI1IGwgLTEuMzU0NDkzNiAtMS4yNjQ2MjIgeicvPgogICAgPHBhdGggZmlsbD0nI2ZmZicKICAgICAgICAgIGQ9J00gMTIuNzQ4OTMgOS40MDQ0MjIgViAzLjYwMTI4MzggaCAyLjA2NzA0NyBWIDExLjEwNTU2MyBIIDExLjY4MzMxIEwgNS4zNjAxOTk1IDUuMTk5NzE0NyB2IDUuOTEyMjY4IEggMy4yODY3MzMyIHYgLTcuNTEwNjk5IGggMy4yNDE3OTc0IGwgNi4yMjAzOTk0IDUuODAzMTM4MyB6Jy8+Cjwvc3ZnPg=="
  }
}
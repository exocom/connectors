{
  "$schema" : "https://unpkg.com/@camunda/zeebe-element-templates-json-schema/resources/schema.json",
  "name" : "NATS Start Event Connector",
  "id" : "io.camunda.connectors.inbound.NATS.StartEvent.v1",
  "description" : "Consume NATS messages",
  "documentationRef" : "https://docs.nats.io/",
  "version" : 1,
  "category" : {
    "id" : "connectors",
    "name" : "Connectors"
  },
  "appliesTo" : [ "bpmn:StartEvent" ],
  "elementType" : {
    "value" : "bpmn:StartEvent"
  },
  "groups" : [ {
    "id" : "authentication",
    "label" : "Authentication"
  }, {
    "id" : "connection",
    "label" : "Connection"
  }, {
    "id" : "subscription",
    "label" : "Subscription"
  }, {
    "id" : "nats",
    "label" : "NATS"
  }, {
    "id" : "activation",
    "label" : "Activation"
  }, {
    "id" : "output",
    "label" : "Output mapping"
  } ],
  "properties" : [ {
    "value" : "io.camunda:connector-nats-inbound:1",
    "binding" : {
      "name" : "inbound.type",
      "type" : "zeebe:property"
    },
    "type" : "Hidden"
  }, {
    "id" : "authentication.type",
    "label" : "Authentication type",
    "description" : "Select the type of authentication to use for the connection",
    "optional" : false,
    "value" : "none",
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.type",
      "type" : "zeebe:property"
    },
    "type" : "Dropdown",
    "choices" : [ {
      "name" : "None",
      "value" : "none"
    }, {
      "name" : "username/password",
      "value" : "username_password"
    }, {
      "name" : "token",
      "value" : "token"
    }, {
      "name" : "jwt/nkey",
      "value" : "jwt"
    } ]
  }, {
    "id" : "authentication.username",
    "label" : "Username",
    "description" : "Provide the username (must have permissions to subscribe to the topic)",
    "optional" : true,
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.username",
      "type" : "zeebe:property"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "username_password",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "authentication.password",
    "label" : "Password",
    "description" : "Provide a password for the user",
    "optional" : true,
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.password",
      "type" : "zeebe:property"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "username_password",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "authentication.token",
    "label" : "Token",
    "description" : "Provide a token for authentication",
    "optional" : true,
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.token",
      "type" : "zeebe:property"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "token",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "authentication.jwt",
    "label" : "JWT",
    "description" : "user JWT for authentication",
    "optional" : true,
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.jwt",
      "type" : "zeebe:property"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "jwt",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "authentication.nKeySeed",
    "label" : "NKey seed",
    "description" : "If a seed is provided, the public key, and signature are calculated",
    "optional" : true,
    "group" : "authentication",
    "binding" : {
      "name" : "authentication.nKeySeed",
      "type" : "zeebe:property"
    },
    "condition" : {
      "property" : "authentication.type",
      "equals" : "jwt",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "connection.servers",
    "label" : "Servers",
    "description" : "Provide connection server(s), comma-delimited if there are multiple",
    "optional" : false,
    "constraints" : {
      "notEmpty" : true
    },
    "group" : "connection",
    "binding" : {
      "name" : "connection.servers",
      "type" : "zeebe:property"
    },
    "type" : "String"
  }, {
    "id" : "connection.connectionName",
    "label" : "Connection name",
    "description" : "Provide a name for the connection if left empty processInstanceKey will be used",
    "optional" : true,
    "group" : "connection",
    "binding" : {
      "name" : "connection.connectionName",
      "type" : "zeebe:property"
    },
    "type" : "String"
  }, {
    "id" : "subscription.clientType",
    "label" : "Client type",
    "description" : "Select the type of client to use for the connection",
    "optional" : false,
    "value" : "nats",
    "group" : "subscription",
    "binding" : {
      "name" : "subscription.clientType",
      "type" : "zeebe:property"
    },
    "type" : "Dropdown",
    "choices" : [ {
      "name" : "NATS",
      "value" : "nats"
    }, {
      "name" : "JetStream",
      "value" : "jetStream"
    } ]
  }, {
    "id" : "subscription.subject",
    "label" : "Subject",
    "description" : "NATS subject",
    "optional" : true,
    "group" : "subscription",
    "binding" : {
      "name" : "subscription.subject",
      "type" : "zeebe:property"
    },
    "condition" : {
      "property" : "subscription.clientType",
      "equals" : "nats",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "subscription.stream",
    "label" : "Stream",
    "description" : "NATS stream name",
    "optional" : true,
    "group" : "subscription",
    "binding" : {
      "name" : "subscription.stream",
      "type" : "zeebe:property"
    },
    "condition" : {
      "property" : "subscription.clientType",
      "equals" : "jetStream",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "subscription.consumerName",
    "label" : "Consumer Name",
    "description" : "NATS consumer name",
    "optional" : true,
    "group" : "subscription",
    "binding" : {
      "name" : "subscription.consumerName",
      "type" : "zeebe:property"
    },
    "condition" : {
      "property" : "subscription.clientType",
      "equals" : "jetStream",
      "type" : "simple"
    },
    "type" : "String"
  }, {
    "id" : "additionalOptions",
    "label" : "Additional options",
    "description" : "Provide additional NATS consumer options in JSON",
    "optional" : false,
    "group" : "nats",
    "binding" : {
      "name" : "additionalOptions",
      "type" : "zeebe:property"
    },
    "type" : "String"
  }, {
    "id" : "activationCondition",
    "label" : "Activation condition",
    "description" : "Condition under which the Connector triggers. Leave empty to catch all events",
    "optional" : true,
    "feel" : "required",
    "group" : "activation",
    "binding" : {
      "name" : "activationCondition",
      "type" : "zeebe:property"
    },
    "type" : "String"
  }, {
    "id" : "resultVariable",
    "label" : "Result variable",
    "description" : "Name of variable to store the response in",
    "group" : "output",
    "binding" : {
      "name" : "resultVariable",
      "type" : "zeebe:property"
    },
    "type" : "String"
  }, {
    "id" : "resultExpression",
    "label" : "Result expression",
    "description" : "Expression to map the response into process variables",
    "feel" : "required",
    "group" : "output",
    "binding" : {
      "name" : "resultExpression",
      "type" : "zeebe:property"
    },
    "type" : "Text"
  } ],
  "icon" : {
    "contents" : "data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxOCcgaGVpZ2h0PScxOC42MDk4NDInIHZpZXdCb3g9JzAgMCAxOCAxOC42MDk4NDInPgogICAgPHN0eWxlIHhtbDpzcGFjZT0ncHJlc2VydmUnPnN2ZyB7ZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyODggMjg4fTwvc3R5bGU+CiAgICA8c3R5bGUgeG1sOnNwYWNlPSdwcmVzZXJ2ZSc+LnN0M3tmaWxsOiMzNzVjOTN9LnN0NHtmaWxsOiM4ZGM2M2Z9PC9zdHlsZT4KICAgIDxwYXRoIGZpbGw9JyMzNGE1NzQnIGQ9J00gOS4xNjY5MDQgMC4zNDAyMjgyNiBoIDguNjQ2OTMzIHYgNy4wMDk5ODU0IEggOS4xNjY5MDQgeicvPgogICAgPHBhdGggZmlsbD0nIzI3YWFlMScgZD0nTSAwLjUxOTk3MTUgMC4zNDAyMjgyNiBoIDguNjQ2OTMzIHYgNy4wMDk5ODU0IEggMC41MTk5NzE1IHonLz4KICAgIDxwYXRoIGNsYXNzPSdzdDQnIGQ9J00gOS4xNjY5MDQgNy4zNTY2MzMgaCA4LjY0NjkzMyB2IDcuMDA5OTg1NCBIIDkuMTY2OTA0IHonLz4KICAgIDxwYXRoIGNsYXNzPSdzdDMnIGQ9J00gMC41MTk5NzE1IDcuMzU2NjMzIGggOC42NDY5MzMgdiA3LjAwOTk4NTQgSCAwLjUxOTk3MTUgeicvPgogICAgPHBhdGggY2xhc3M9J3N0NCcgZD0nTSA3Ljg5NTg2MyAxNC4zMjgxMDIgbCA0LjIzMDM4NTMgMy45MTU4MzQ0IHYgLTMuOTE1ODM0NCB6Jy8+CiAgICA8cGF0aCBjbGFzcz0nc3QzJyBkPSdNIDkuMTY2OTA0IDE0LjMyODEwMiBsIDAuMDQ0OTM1ODA0IDEuMjMyNTI1IGwgLTEuMzU0NDkzNiAtMS4yNjQ2MjIgeicvPgogICAgPHBhdGggZmlsbD0nI2ZmZicKICAgICAgICAgIGQ9J00gMTIuNzQ4OTMgOS40MDQ0MjIgViAzLjYwMTI4MzggaCAyLjA2NzA0NyBWIDExLjEwNTU2MyBIIDExLjY4MzMxIEwgNS4zNjAxOTk1IDUuMTk5NzE0NyB2IDUuOTEyMjY4IEggMy4yODY3MzMyIHYgLTcuNTEwNjk5IGggMy4yNDE3OTc0IGwgNi4yMjAzOTk0IDUuODAzMTM4MyB6Jy8+Cjwvc3ZnPg=="
  }
}